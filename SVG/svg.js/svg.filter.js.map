{"version":3,"file":"svg.filter.js","sources":["../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../src/svg.filter.js"],"sourcesContent":["export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import {\r\n  Array as SVGArray,\r\n  Container,\r\n  Defs,\r\n  Element,\r\n  extend,\r\n  find,\r\n  namespaces as ns,\r\n  nodeOrNew,\r\n  utils,\r\n  wrapWithAttrCheck\r\n} from '@svgdotjs/svg.js'\r\n\r\nexport default class Filter extends Element {\r\n  constructor (node) {\r\n    super(nodeOrNew('filter', node), node)\r\n\r\n    this.$source = 'SourceGraphic'\r\n    this.$sourceAlpha = 'SourceAlpha'\r\n    this.$background = 'BackgroundImage'\r\n    this.$backgroundAlpha = 'BackgroundAlpha'\r\n    this.$fill = 'FillPaint'\r\n    this.$stroke = 'StrokePaint'\r\n    this.$autoSetIn = true\r\n  }\r\n\r\n  put (element, i) {\r\n    element = super.put(element, i)\r\n\r\n    if (!element.attr('in') && this.$autoSetIn) {\r\n      element.attr('in', this.$source)\r\n    }\r\n    if (!element.attr('result')) {\r\n      element.attr('result', element.id())\r\n    }\r\n\r\n    return element\r\n  }\r\n\r\n  // Unmask all masked elements and remove itself\r\n  remove () {\r\n    // unmask all targets\r\n    this.targets().each('unfilter')\r\n\r\n    // remove mask from parent\r\n    return super.remove()\r\n  }\r\n\r\n  targets () {\r\n    return find('svg [filter*=\"' + this.id() + '\"]')\r\n  }\r\n\r\n  toString () {\r\n    return 'url(#' + this.id() + ')'\r\n  }\r\n}\r\n\r\n// Create Effect class\r\nclass Effect extends Element {\r\n  constructor (node) {\r\n    super(node, node)\r\n    this.result(this.id())\r\n  }\n\r\n  in (effect) {\r\n    // Act as getter\r\n    if (effect == null) {\r\n      const _in = this.attr('in')\r\n      const ref = this.parent() && this.parent().find(`[result=\"${_in}\"]`)[0]\r\n      return ref || _in\r\n    }\r\n\r\n    // Avr as setter\r\n    return this.attr('in', effect)\r\n  }\n\r\n  // Named result\r\n  result (result) {\r\n    return this.attr('result', result)\r\n  }\n\r\n  // Stringification\r\n  toString () {\r\n    return this.result()\r\n  }\r\n}\r\n\r\n// This function takes an array with attr keys and sets for every key the\r\n// attribute to the value of one paramater\r\n// getAttrSetter(['a', 'b']) becomes this.attr({a: param1, b: param2})\r\nconst getAttrSetter = (params) => {\r\n  return function (...args) {\r\n    for (let i = params.length; i--;) {\r\n      if (args[i] != null) {\r\n        this.attr(params[i], args[i])\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst updateFunctions = {\r\n  blend: getAttrSetter(['in', 'in2', 'mode']),\r\n  // ColorMatrix effect\r\n  colorMatrix: getAttrSetter(['type', 'values']),\r\n  // Composite effect\r\n  composite: getAttrSetter(['in', 'in2', 'operator']),\r\n  // ConvolveMatrix effect\r\n  convolveMatrix: function (matrix) {\r\n    matrix = new SVGArray(matrix).toString()\r\n\r\n    this.attr({\r\n      order: Math.sqrt(matrix.split(' ').length),\r\n      kernelMatrix: matrix\r\n    })\r\n  },\r\n  // DiffuseLighting effect\r\n  diffuseLighting: getAttrSetter(['surfaceScale', 'lightingColor', 'diffuseConstant', 'kernelUnitLength']),\r\n  // DisplacementMap effect\r\n  displacementMap: getAttrSetter(['in', 'in2', 'scale', 'xChannelSelector', 'yChannelSelector']),\r\n  // DropShadow effect\r\n  dropShadow: getAttrSetter(['in', 'dx', 'dy', 'stdDeviation']),\r\n  // Flood effect\r\n  flood: getAttrSetter(['flood-color', 'flood-opacity']),\r\n  // Gaussian Blur effect\r\n  gaussianBlur: function (x = 0, y = x) {\r\n    this.attr('stdDeviation', x + ' ' + y)\r\n  },\r\n  // Image effect\r\n  image: function (src) {\r\n    this.attr('href', src, ns.xlink)\r\n  },\r\n  // Morphology effect\r\n  morphology: getAttrSetter(['operator', 'radius']),\r\n  // Offset effect\r\n  offset: getAttrSetter(['dx', 'dy']),\r\n  // SpecularLighting effect\r\n  specularLighting: getAttrSetter(['surfaceScale', 'lightingColor', 'diffuseConstant', 'specularExponent', 'kernelUnitLength']),\r\n  // Tile effect\r\n  tile: getAttrSetter([]),\r\n  // Turbulence effect\r\n  turbulence: getAttrSetter(['baseFrequency', 'numOctaves', 'seed', 'stitchTiles', 'type'])\r\n}\r\n\r\nconst filterNames = [\r\n  'blend',\r\n  'colorMatrix',\r\n  'componentTransfer',\r\n  'composite',\r\n  'convolveMatrix',\r\n  'diffuseLighting',\r\n  'displacementMap',\r\n  'dropShadow',\r\n  'flood',\r\n  'gaussianBlur',\r\n  'image',\r\n  'merge',\r\n  'morphology',\r\n  'offset',\r\n  'specularLighting',\r\n  'tile',\r\n  'turbulence'\r\n]\r\n\r\n// For every filter create a class\r\nfilterNames.forEach((effect) => {\r\n  const name = utils.capitalize(effect)\r\n  const fn = updateFunctions[effect]\r\n\r\n  Filter[name + 'Effect'] = class extends Effect {\r\n    constructor (node) {\r\n      super(nodeOrNew('fe' + name, node), node)\r\n    }\r\n\r\n    // This function takes all parameters from the factory call\r\n    // and updates the attributes according to the updateFunctions\r\n    update (args) {\r\n      fn.apply(this, args)\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Add factory function to filter\r\n  // Allow to pass a function or object\r\n  // The attr object is catched from \"wrapWithAttrCheck\"\r\n  Filter.prototype[effect] = wrapWithAttrCheck(function (fn, ...args) {\r\n    const effect = new Filter[name + 'Effect']()\r\n\r\n    if (fn == null) return this.put(effect)\r\n\r\n    // For Effects which can take children, a function is allowed\r\n    if (typeof fn === 'function') {\r\n      fn.call(effect, effect)\r\n    } else {\r\n      // In case it is not a function, add it to arguments\r\n      args.unshift(fn)\r\n    }\r\n    return this.put(effect).update(args)\r\n  })\r\n})\r\n\r\n// Correct factories which are not that simple\r\nextend(Filter, {\r\n  merge (arrayOrFn) {\r\n    const node = this.put(new Filter.MergeEffect())\r\n\r\n    // If a function was passed, execute it\r\n    // That makes stuff like this possible:\r\n    // filter.merge((mergeEffect) => mergeEffect.mergeNode(in))\r\n    if (typeof arrayOrFn === 'function') {\r\n      arrayOrFn.call(node, node)\r\n      return node\r\n    }\r\n\r\n    // Check if first child is an array, otherwise use arguments as array\r\n    var children = arrayOrFn instanceof Array ? arrayOrFn : [...arguments]\r\n\r\n    children.forEach((child) => {\r\n      if (child instanceof Filter.MergeNode) {\r\n        node.put(child)\r\n      } else {\r\n        node.mergeNode(child)\r\n      }\r\n    })\r\n\r\n    return node\r\n  },\r\n  componentTransfer (components = {}) {\r\n    const node = this.put(new Filter.ComponentTransferEffect())\r\n\r\n    if (typeof components === 'function') {\r\n      components.call(node, node)\r\n      return node\r\n    }\r\n\r\n    // If no component is set, we use the given object for all components\r\n    if (!components.r && !components.g && !components.b && !components.a) {\r\n      const temp = components\r\n      components = {\r\n        r: temp, g: temp, b: temp, a: temp\r\n      }\r\n    }\r\n\r\n    for (const c in components) {\r\n      // components[c] has to hold an attributes object\r\n      node.add(new Filter['Func' + c.toUpperCase()](components[c]))\r\n    }\r\n\r\n    return node\r\n  }\r\n})\r\n\r\nconst filterChildNodes = [\r\n  'distantLight',\r\n  'pointLight',\r\n  'spotLight',\r\n  'mergeNode',\r\n  'FuncR',\r\n  'FuncG',\r\n  'FuncB',\r\n  'FuncA'\r\n]\r\n\r\nfilterChildNodes.forEach((child) => {\r\n  const name = utils.capitalize(child)\r\n  Filter[name] = class extends Effect {\r\n    constructor (node) {\r\n      super(nodeOrNew('fe' + name, node), node)\r\n    }\r\n  }\r\n})\r\n\r\nconst componentFuncs = [\r\n  'funcR',\r\n  'funcG',\r\n  'funcB',\r\n  'funcA'\r\n]\r\n\r\n// Add an update function for componentTransfer-children\r\ncomponentFuncs.forEach(function (c) {\r\n  const _class = Filter[utils.capitalize(c)]\r\n  const fn = wrapWithAttrCheck(function () {\r\n    return this.put(new _class())\r\n  })\r\n\r\n  Filter.ComponentTransferEffect.prototype[c] = fn\r\n})\r\n\r\nconst lights = [\r\n  'distantLight',\r\n  'pointLight',\r\n  'spotLight'\r\n]\r\n\r\n// Add light sources factories to lightining effects\r\nlights.forEach((light) => {\r\n  const _class = Filter[utils.capitalize(light)]\r\n  const fn = wrapWithAttrCheck(function () {\r\n    return this.put(new _class())\r\n  })\r\n\r\n  Filter.DiffuseLightingEffect.prototype[light] = fn\r\n  Filter.SpecularLightingEffect.prototype[light] = fn\r\n})\r\n\r\nextend(Filter.MergeEffect, {\r\n  mergeNode (_in) {\r\n    return this.put(new Filter.MergeNode()).attr('in', _in)\r\n  }\r\n})\r\n\r\n// add .filter function\r\nextend(Defs, {\r\n  // Define filter\r\n  filter: function (block) {\r\n    var filter = this.put(new Filter())\r\n\r\n    /* invoke passed block */\r\n    if (typeof block === 'function') { block.call(filter, filter) }\r\n\r\n    return filter\r\n  }\r\n})\r\n\r\nextend(Container, {\r\n  // Define filter on defs\r\n  filter: function (block) {\r\n    return this.defs().filter(block)\r\n  }\r\n})\r\n\r\nextend(Element, {\r\n  // Create filter element in defs and store reference\r\n  filterWith: function (block) {\r\n    const filter = block instanceof Filter\r\n      ? block : this.defs().filter(block)\r\n\r\n    return this.attr('filter', filter)\r\n  },\r\n  // Remove filter\r\n  unfilter: function (remove) {\r\n    /* remove filter attribute */\r\n    return this.attr('filter', null)\r\n  },\r\n  filterer () {\r\n    return this.reference('filter')\r\n  }\r\n})\r\n\r\n// chaining\r\nvar chainingEffects = {\r\n  // Blend effect\r\n  blend: function (in2, mode) {\r\n    return this.parent() && this.parent().blend(this, in2, mode) // pass this as the first input\r\n  },\r\n  // ColorMatrix effect\r\n  colorMatrix: function (type, values) {\r\n    return this.parent() && this.parent().colorMatrix(type, values).in(this)\r\n  },\r\n  // ComponentTransfer effect\r\n  componentTransfer: function (components) {\r\n    return this.parent() && this.parent().componentTransfer(components).in(this)\r\n  },\r\n  // Composite effect\r\n  composite: function (in2, operator) {\r\n    return this.parent() && this.parent().composite(this, in2, operator) // pass this as the first input\r\n  },\r\n  // ConvolveMatrix effect\r\n  convolveMatrix: function (matrix) {\r\n    return this.parent() && this.parent().convolveMatrix(matrix).in(this)\r\n  },\r\n  // DiffuseLighting effect\r\n  diffuseLighting: function (surfaceScale, lightingColor, diffuseConstant, kernelUnitLength) {\r\n    return this.parent() && this.parent().diffuseLighting(surfaceScale, diffuseConstant, kernelUnitLength).in(this)\r\n  },\r\n  // DisplacementMap effect\r\n  displacementMap: function (in2, scale, xChannelSelector, yChannelSelector) {\r\n    return this.parent() && this.parent().displacementMap(this, in2, scale, xChannelSelector, yChannelSelector) // pass this as the first input\r\n  },\r\n  // DisplacementMap effect\r\n  dropShadow: function (x, y, stdDeviation) {\r\n    return this.parent() && this.parent().dropShadow(this, x, y, stdDeviation).in(this) // pass this as the first input\r\n  },\r\n  // Flood effect\r\n  flood: function (color, opacity) {\r\n    return this.parent() && this.parent().flood(color, opacity) // this effect dont have inputs\r\n  },\r\n  // Gaussian Blur effect\r\n  gaussianBlur: function (x, y) {\r\n    return this.parent() && this.parent().gaussianBlur(x, y).in(this)\r\n  },\r\n  // Image effect\r\n  image: function (src) {\r\n    return this.parent() && this.parent().image(src) // this effect dont have inputs\r\n  },\r\n  // Merge effect\r\n  merge: function (arg) {\r\n    arg = arg instanceof Array ? arg : [...arg]\r\n    return this.parent() && this.parent().merge(this, ...arg) // pass this as the first argument\r\n  },\r\n  // Morphology effect\r\n  morphology: function (operator, radius) {\r\n    return this.parent() && this.parent().morphology(operator, radius).in(this)\r\n  },\r\n  // Offset effect\r\n  offset: function (dx, dy) {\r\n    return this.parent() && this.parent().offset(dx, dy).in(this)\r\n  },\r\n  // SpecularLighting effect\r\n  specularLighting: function (surfaceScale, lightingColor, diffuseConstant, specularExponent, kernelUnitLength) {\r\n    return this.parent() && this.parent().specularLighting(surfaceScale, diffuseConstant, specularExponent, kernelUnitLength).in(this)\r\n  },\r\n  // Tile effect\r\n  tile: function () {\r\n    return this.parent() && this.parent().tile().in(this)\r\n  },\r\n  // Turbulence effect\r\n  turbulence: function (baseFrequency, numOctaves, seed, stitchTiles, type) {\r\n    return this.parent() && this.parent().turbulence(baseFrequency, numOctaves, seed, stitchTiles, type).in(this)\r\n  }\r\n}\r\n\r\nextend(Effect, chainingEffects)\r\n\r\n// Effect-specific extensions\r\nextend(Filter.MergeEffect, {\r\n  in: function (effect) {\r\n    if (effect instanceof Filter.MergeNode) {\r\n      this.add(effect, 0)\r\n    } else {\r\n      this.add(new Filter.MergeNode().in(effect), 0)\r\n    }\r\n\r\n    return this\r\n  }\r\n})\r\n\r\nextend([Filter.CompositeEffect, Filter.BlendEffect, Filter.DisplacementMapEffect], {\r\n  in2: function (effect) {\r\n    if (effect == null) {\r\n      const in2 = this.attr('in2')\r\n      const ref = this.parent() && this.parent().find(`[result=\"${in2}\"]`)[0]\r\n      return ref || in2\r\n    }\r\n    return this.attr('in2', effect)\r\n  }\r\n})\r\n\r\n// Presets\r\nFilter.filter = {\r\n  sepiatone: [\r\n    0.343, 0.669, 0.119, 0, 0,\r\n    0.249, 0.626, 0.130, 0, 0,\r\n    0.172, 0.334, 0.111, 0, 0,\r\n    0.000, 0.000, 0.000, 1, 0]\r\n}\r\n"],"names":["arrayWithoutHoles","iterableToArray","nonIterableSpread","assertThisInitialized","getPrototypeOf","superPropBase","setPrototypeOf","Filter","node","nodeOrNew","$source","$sourceAlpha","$background","$backgroundAlpha","$fill","$stroke","$autoSetIn","element","i","attr","id","targets","each","find","Element","Effect","result","effect","_in","ref","parent","getAttrSetter","params","args","length","updateFunctions","blend","colorMatrix","composite","convolveMatrix","matrix","SVGArray","toString","order","Math","sqrt","split","kernelMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","x","y","image","src","ns","xlink","morphology","offset","specularLighting","tile","turbulence","filterNames","forEach","name","utils","capitalize","fn","apply","prototype","wrapWithAttrCheck","put","call","unshift","update","extend","merge","arrayOrFn","MergeEffect","children","Array","arguments","child","MergeNode","mergeNode","componentTransfer","components","ComponentTransferEffect","r","g","b","a","temp","c","add","toUpperCase","filterChildNodes","componentFuncs","_class","lights","light","DiffuseLightingEffect","SpecularLightingEffect","Defs","filter","block","Container","defs","filterWith","unfilter","remove","filterer","reference","chainingEffects","in2","mode","type","values","operator","surfaceScale","lightingColor","diffuseConstant","kernelUnitLength","scale","xChannelSelector","yChannelSelector","stdDeviation","color","opacity","arg","radius","dx","dy","specularExponent","baseFrequency","numOctaves","seed","stitchTiles","CompositeEffect","BlendEffect","DisplacementMapEffect","sepiatone"],"mappings":"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"}